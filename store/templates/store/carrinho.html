{% extends "store/base.html" %}

{% block content %}
<div class="container py-5 text-center">
	<h1 class="mb-4">Seu Carrinho</h1>
	{% if carrinho_vazio %}
		<p class="lead">Carrinho vazio</p>
	{% elif product %}
		<div class="card mx-auto" style="max-width: 400px;">
			<div class="card-body">
				<h5 class="card-title">{{ product.name }}</h5>
				<p class="card-text">Preço: R$ {{ product.price }}</p>
				<p class="card-text">Quantidade: <strong>{{ quantity }}</strong></p>
				<form method="post" action="">
					{% csrf_token %}
					<input type="hidden" name="quantity" value="{{ quantity }}">
					<button type="submit" name="remove" value="1" class="btn btn-danger">Remover do carrinho</button>
				</form>
				<form method="post" action="{% url 'concluir_compra' product.id %}" class="mt-3">
					{% csrf_token %}
					<input type="hidden" name="quantity" value="{{ quantity }}">
					<button type="submit" class="btn btn-success">Concluir compra</button>
				</form>
			</div>
		</div>
	{% else %}
		<p class="lead">Ainda não há produtos no seu carrinho.</p>
	{% endif %}
	<a href="{% url 'product_list' %}" class="btn btn-primary mt-3">Voltar para a loja</a>
</div>
{% endblock %}